generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Vehiculo {
  descripcion String @id

  parametroId Int @unique

  costoNeumaticosPorKm          Float
  costoMantenimientoPorKmSinIva Float
  tipoInteres                   Float
  parametro                     Parametro @relation(fields: [parametroId], references: [id])
  calculo                       Calculo[]
}

model Parametro {
  id Int @id @default(autoincrement())

  kilometrosRecorridosAnualmente                           Float
  horasTrabajadasAlAno                                     Float
  valorAdquisicionVehiculoSinIvaSinNeumaticos              Float
  vidaUtilVehiculo                                         Float
  valorResidualVehiculoSinIva                              Float
  valorAdquisicionRemolqueSemirremolqueSinIvaSinNeumaticos Float
  vidaUtilRemolqueSemirremolque                            Float
  valorResidualRemolqueSemirremolqueSinIva                 Float
  costoAnualConductorEmpresaSegurosSociosOtros             Float
  dietasAnualesConductor                                   Float
  costoAnualSeguros                                        Float
  costoFiscalAnual                                         Float
  precioCarburanteSinIva                                   Float
  consumoMedio                                             Float
  costosAnualesIndirectos                                  Float

  vehiculo Vehiculo?
  calculo  Calculo?
}

model Calculo {
  id Int @id @default(autoincrement())

  vehiculoDescripcion String @unique
  parametroId         Int    @unique

  createdAt DateTime  @default(now())
  vehiculo  Vehiculo  @relation(fields: [vehiculoDescripcion], references: [descripcion])
  parametro Parametro @relation(fields: [parametroId], references: [id])
}
